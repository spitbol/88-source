
*  Copyright 1988-1998, Mark Emmer, Catspaw, Inc.  All rights reserved.
*  Use of this source code is governed by a BSD-style
*  license that can be found in the LICENSE file.

* HOST.INC - Definitions for SPITBOL HOST functions
*
							:(HOSTGO)
* Function bodies are here to be collectable.
*
EXECUTE		EXECUTE = HOST(1,S1,S2)			:S(RETURN)F(FRETURN)
GETARG		GETARG = HOST(2,I)			:S(RETURN)F(FRETURN)
FIRSTARG	FIRSTARG = HOST(3)			:(RETURN)
PARM		PARM = HOST(0)				:(RETURN)
SHELLVAR	SHELLVAR = HOST(4,S)			:S(RETURN)F(FRETURN)
SYSTEM		SYSTEM = HOST()				:(RETURN)
*
CLEARSCN        CLEARSCN = HOST(10)                     :(RETURN)
COPYLINE        COPYLINE = HOST(33,I)                   :(RETURN)
COPYSCN         COPYSCN = HOST(34)                      :(RETURN)
CURSOR          CURSOR = HOST(5,I,J)                    :(RETURN)
DELETECHR	DELETECHR = HOST(11)			:(RETURN)
ERASEEOL	ERASEEOL = HOST(12)			:(RETURN)
GETCOLS		GETCOLS = HOST(202)			:(RETURN)
GETCURCOL	GETCURCOL = HOST(212)			:(RETURN)
GETCURROW	GETCURROW = HOST(213)			:(RETURN)
GETETYPE	GETETYPE = HOST(203)			:(RETURN)
GETFSIZE	GETFSIZE = HOST(204)			:(RETURN)
GETLINES	GETLINES = HOST(205)			:(RETURN)
GETMODE		GETMODE = HOST(206)			:(RETURN)
GETPAGE		GETPAGE = HOST(207)			:(RETURN)
GETTYPE		GETTYPE = HOST(26)			:(RETURN)
GOTO		GOTO = HOST(6,I1,I2)			:(RETURN)
INSERTCHR	INSERTCHR = HOST(13)			:(RETURN)
KEYSTATE        KEYSTATE = HOST(36)                     :(RETURN)
MOUSE           MOUSE = HOST(214,I)                     :(FRETURN)
NORMATR		NORMATR = HOST(24)			:(RETURN)
PEEK		PEEK = HOST(28)				:S(RETURN)F(FRETURN)
PLAY		PLAY = HOST(201,S)			:(RETURN)
POKE		POKE = HOST(29,I)			:S(RETURN)F(RETURN)
READATRSTRING   READATRSTRING = HOST(31,I)              :(RETURN)
READCHR		READCHR = HOST(15)			:(RETURN)
READFIELD	READFIELD = HOST(9,I)			:(RETURN)
READKEY		READKEY = HOST(8)			:(RETURN)
READKEYSPECIAL  READKEYSPECIAL = HOST(30)               :(RETURN)
READSTR         READSTR = HOST(14,I)                    :(RETURN)
READY		READY = HOST(7)				:S(RETURN)F(FRETURN)
REVATR		REVATR = HOST(25)			:(RETURN)
SCROLLALL       SCROLLALL = HOST(35,L1 * 256 + C1,
+                           L2 * 256 + C2,N,ATR)        :(RETURN)
SCROLLDN        SCROLLDN = HOST(16,I1,I2)               :(RETURN)
SCROLLUP	SCROLLUP = HOST(17,I1,I2)		:(RETURN)
SETADR          SETADR = HOST(27,I1,I2)                 :(RETURN)
SETCHRATR	SETCHRATR = HOST(18,I,S)		:(RETURN)
SETLINEATR	SETLINEATR = HOST(19,I,S)		:(RETURN)
SETOFFSET	SETOFFSET = HOST(208,I)			:(RETURN)
SETSIZE		SETSIZE = HOST(209,I1,I2)		:(RETURN)
SOUND		SOUND = HOST(200,I1,I2)			:(RETURN)
UPDATELINE	UPDATELINE = HOST(20,I)			:(RETURN)
UPDATESCN	UPDATESCN = HOST(21)			:(RETURN)
VIDEOINT	VIDEOINT = HOST(210,I1,I2,I3,I4)	:(RETURN)
WRITEATRSTRING  WRITEATRSTRING = HOST(32,S)             :(RETURN)
WRITECHR        WRITECHR = HOST(23,S)                   :(RETURN)
WRITESTR	WRITESTR = HOST(22,S)			:(RETURN)
*
* Universal HOSTs
*
HOSTGO		DEFINE("EXECUTE(S1,S2)")
		DEFINE("GETARG(I)")
		DEFINE("FIRSTARG()")
		DEFINE("PARM()")
		DEFINE("SHELLVAR(S)")
		DEFINE("SYSTEM()")			:(HOSTCHKSCREEN)
*
* PC-SPITBOL, SPITBOL-386 and OS/2 specific functions
*
HOSTCHKSCREEN	HOST() ? FENCE ("80386" | "8088" | "IBM PC")	:F(HOSTNOSCRN)
		DEFINE("CLEARSCN()")
                DEFINE("COPYLINE(I)")
                DEFINE("COPYSCN()")
                DEFINE("CURSOR(I,J)")
		DEFINE("DELETECHR()")
		DEFINE("ERASEEOL()")
		DEFINE("GETCOLS()")
                DEFINE("GETCURCOL()")
                DEFINE("GETCURROW()")
		DEFINE("GETETYPE()")
		DEFINE("GETFSIZE()")
		DEFINE("GETLINES()")
		DEFINE("GETMODE()")
		DEFINE("GETPAGE()")
		DEFINE("GETTYPE()")
		DEFINE("GOTO(I1,I2)")
		DEFINE("INSERTCHR()")
                DEFINE("KEYSTATE()")
                DEFINE("MOUSE(I)")
		DEFINE("NORMATR()")
		DEFINE("PEEK()")
		DEFINE("PLAY(S)")
		DEFINE("POKE(I)")
                DEFINE("READATRSTRING(I)")
		DEFINE("READCHR()")
		DEFINE("READFIELD(I)")
		DEFINE("READKEY()")
                DEFINE("READKEYSPECIAL()")
		DEFINE("READSTR(I)")
		DEFINE("READY()")
		DEFINE("REVATR()")
                DEFINE("SCROLLALL(L1,C1,L2,C2,N,ATR)")
		DEFINE("SCROLLDN(I1,I2)")
		DEFINE("SCROLLUP(I1,I2)")
		DEFINE("SETADR(I1,I2)")
		DEFINE("SETCHRATR(I,S)")
		DEFINE("SETLINEATR(I,S)")
		DEFINE("SETOFFSET(I)")
		DEFINE("SETSIZE(I1,I2)")
		DEFINE("SOUND(I1,I2)")
		DEFINE("UPDATELINE(I)")
		DEFINE("UPDATESCN()")
		DEFINE("VIDEOINT(I1,I2,I3,I4)")
                DEFINE("WRITEATRSTRING(S)")
                DEFINE("WRITECHR(S)")
		DEFINE("WRITESTR(S)")			:(HOSTPCSPECIFIC)
*
* Redefine labels to delete all the screen function bodies above.
*
HOSTNOSCRN      CODE("CLEARSCN;COPYLINE;COPYSCN;CURSOR;DELETECHR;ERASEEOL;"
+               "GETCOLS;GETCURCOL;GETCURROW;GETETYPE;GETFSIZE;GETLINES;"
+               "GETMODE;GETPAGE;GETTYPE;GOTO;INSERTCHR;KEYSTATE;MOUSE;"
+               "NORMATR;PEEK;PLAY;POKE;READATRSTRING;READCHR;READFIELD;"
+               "READKEY;READKEYSPECIAL;READSTR;READY;REVATR;SCROLLALL;"
+               "SCROLLDN;SCROLLUP;SETADR;SETCHRATR;SETLINEATR;SETOFFSET;"
+               "SETSIZE;SOUND;UPDATELINE;UPDATESCN;VIDEOINT;WRITEATRSTRING;"
+               "WRITECHR;WRITESTR;")
*
* Dewar's PC-SPITBOL (8086) specific functions.  Redefine some for PC SPITBOL defs.
*
HOSTPCSPECIFIC	HOST() ? FENCE "IBM PC"			:F(HOSTDONE)
		CODE("PARM PARM = HOST(1) :(RETURN)")
		CODE("SHELLVAR SHELLVAR = HOST(2,S) :S(RETURN)F(FRETURN)")
		CODE("SOUND SOUND = HOST(3,I1,I2) :(RETURN)")
		CODE("PLAY PLAY = HOST(4,S) :(RETURN)")
*
HOSTDONE	CODE("HOSTCHKSCREEN;HOSTDONE;HOSTNOSCRN;"
+		"HOSTPCSPECIFIC;HOSTGO;")
*
* End of HOST.INC
